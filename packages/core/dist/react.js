!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).ServeReact=t(e.React)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};return function(t,o){return function(u){var c=e.useRef(null),i=e.useRef(null),a=e.useState(!1),f=a[0],l=a[1];e.useEffect((function(){var e,n,r,o=/on([A-Z]+[a-zA-Z]*)/,a=/watch([A-Z]+[a-zA-Z]*)/;i.current=new t({target:c.current,props:u});var f=[];for(var l in u){var d=l.match(o),v=l.match(a);d&&"function"==typeof u[l]&&(null===(e=i.current)||void 0===e||e.$on("".concat(d[1][0].toLowerCase()).concat(d[1].slice(1)),u[l])),v&&"function"==typeof u[l]&&f.push(["".concat(v[1][0].toLowerCase()).concat(v[1].slice(1)),u[l]])}if(f.length&&(null===(n=i.current)||void 0===n?void 0:n.$$.update)){var s=null===(r=i.current)||void 0===r?void 0:r.$$.update;i.current.$$.update=function(){f.forEach((function(e){var t,n,r=e[0],o=e[1],u=null===(t=i.current)||void 0===t?void 0:t.$$.props[r],c=null===(n=i.current)||void 0===n?void 0:n.$$.ctx[u];c&&o(c)})),s.apply(null,arguments)}}return function(){var e;return null===(e=i.current)||void 0===e?void 0:e.$destroy()}}),[]),e.useEffect((function(){var e;f?null===(e=i.current)||void 0===e||e.$set(u):l(!0)}),[u]);var d=function(e){return r({element:"div",id:"svelte-wrapper"},e)}(o);return n.default.createElement(d.element,r({ref:c},d))}}}));
